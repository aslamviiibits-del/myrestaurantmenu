<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Restaurant Menu</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            text-align: center;
            background: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80') no-repeat center center fixed;
            background-size: cover;
        }

            body::before {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                z-index: -1;
            }

        h1 {
            color: #fff;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        /* Default: Desktop (3 per row) */
        .menu {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        /* Tablet (2 per row) */
        @media screen and (max-width: 1024px) {
            .menu {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Mobile (1 per row) */
        @media screen and (max-width: 768px) {
            .menu {
                grid-template-columns: 1fr !important;
            }

            .item {
                width: 95%;
                margin: 0 auto;
                padding: 12px;
            }

                .item h3 {
                    font-size: 20px;
                }

                .item p {
                    font-size: 15px;
                }

            .price {
                font-size: 18px;
            }
        }

        .item {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s ease;
        }

            .item:hover {
                transform: scale(1.05);
            }

            .item img {
                width: 100%;
                height: 150px;
                object-fit: cover;
                border-radius: 8px;
            }

            .item h3 {
                margin: 10px 0 5px;
                font-size: 18px;
                color: #333;
            }

            .item p {
                margin: 0;
                font-size: 14px;
                color: #555;
            }

        .price {
            margin-top: 5px;
            font-weight: bold;
            color: #e67e22;
            font-size: 16px;
        }

        .checkbox {
            transform: scale(1.5);
            margin: 8px;
        }

        .qty-input {
            width: 60px;
            padding: 5px;
            font-size: 16px;
            margin-left: 10px;
        }

        #sendOrder {
            margin-top: 20px;
            padding: 15px 25px;
            font-size: 18px;
            background: #25d366;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

            #sendOrder:hover {
                background: #128c7e;
            }

        #cart {
            margin-top: 30px;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 12px;
            color: white;
        }

        .cart-items {
            font-size: 18px;
            line-height: 1.8;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

            .cart-item span {
                flex: 1;
                text-align: left;
            }

        .remove-btn {
            background: red;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 4px 8px;
            cursor: pointer;
            font-size: 14px;
        }

        #totalLabel {
            font-size: 22px;
            font-weight: bold;
            color: white;
            margin-top: 15px;
        }

        /* Back to Top Button */
        #backToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e67e22;
            color: #fff;
            border: none;
            border-radius: 50%;
            padding: 12px 16px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            display: none;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

            #backToTop:hover {
                background: #d35400;
            }
    </style>
</head>
<body>
    <div class="container">
        <h1>üç¥ Our Food Menu</h1>

        <select id="categoryFilter">
            <option value="All">All</option>
            <option value="Starters">Starters</option>
            <option value="Main Course">Main Course</option>
            <option value="Desserts">Desserts</option>
        </select>

        <div class="menu" id="menu"></div>

        <div id="cart">
            <h2>Your Cart</h2>
            <div class="cart-items" id="cartItems"></div>
            <div id="totalLabel">Total: ‚Çπ<span id="total">0</span></div>
            <button id="sendOrder">Send Order via WhatsApp</button>
        </div>
    </div>

    <button id="backToTop">‚Üë</button>

    <script>
        let cart = [];
        let menuData = [];

        function renderMenu(filter = "All") {
            let menuDiv = document.getElementById("menu");
            menuDiv.innerHTML = "";
            let filteredData = filter === "All" ? menuData : menuData.filter(item => item.category === filter);

            filteredData.forEach((item, index) => {
                let card = document.createElement("div");
                card.className = "item";
                card.innerHTML = `
              <img src="${item.image}" alt="${item.name}">
              <h3>${item.name}</h3>
              <p>${item.desc}</p>
              <p class="price">${item.price}</p>
              <input type="checkbox" class="checkbox" onchange="toggleItem(${index}, this)">
              <input type="number" min="1" value="1" class="qty-input" id="qty-${index}">
            `;
                menuDiv.appendChild(card);
            });
        }

        function toggleItem(index, checkbox) {
            const item = menuData[index];
            const qty = parseInt(document.getElementById("qty-" + index).value) || 1;

            if (checkbox.checked) {
                cart.push({ ...item, qty: qty, price: parseInt(item.price.replace("‚Çπ", "")) });
            } else {
                cart = cart.filter(c => c.name !== item.name);
            }
            renderCart();
        }

        function renderCart() {
            const cartDiv = document.getElementById("cartItems");
            cartDiv.innerHTML = "";

            let total = 0;
            cart.forEach((item, index) => {
                total += item.price * item.qty;
                const div = document.createElement("div");
                div.className = "cart-item";
                div.innerHTML = `
              <span>${item.name} x ${item.qty} - ‚Çπ${item.price * item.qty}</span>
              <button class="remove-btn" onclick="removeFromCart(${index})">‚ùå</button>
            `;
                cartDiv.appendChild(div);
            });

            document.getElementById("total").innerText = total;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCart();
        }

        document.getElementById("sendOrder").addEventListener("click", () => {
            if (cart.length === 0) {
                alert("Please select items before placing order!");
                return;
            }

            let orderText = "Hello, I would like to order:\n\n";
            cart.forEach(item => {
                orderText += `${item.name} x ${item.qty} - ‚Çπ${item.price * item.qty}\n`;
            });
            orderText += `\nTotal: ‚Çπ${document.getElementById("total").innerText}`;

            let whatsappUrl = `https://wa.me/918970100123?text=${encodeURIComponent(orderText)}`;
            window.open(whatsappUrl, "_blank");
        });

        fetch('data/menu.json')
            .then(response => response.json())
            .then(data => {
                menuData = data;
                renderMenu();
            })
            .catch(err => console.error('Error loading menu:', err));

        document.getElementById("categoryFilter").addEventListener("change", (e) => {
            renderMenu(e.target.value);
        });

        const backToTop = document.getElementById("backToTop");
        window.addEventListener("scroll", () => {
            backToTop.style.display = window.scrollY > 300 ? "block" : "none";
        });
        backToTop.addEventListener("click", () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
    </script>
</body>
</html>
